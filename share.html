<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>공유하기 테스트</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <script src="https://t1.kakaocdn.net/kakao_js_sdk/2.1.0/kakao.min.js" integrity="sha384-dpu02ieKC6NUeKFoGMOKz6102CLEWi9+5RQjWSV0ikYSFFd8M3Wp2reIcquJOemx" crossorigin="anonymous"></script>
    <script async defer crossorigin="anonymous" src="https://connect.facebook.net/ko_KR/sdk.js#xfbml=1&version=v15.0" nonce="INZ7SY8U"></script>
    <script>
      Kakao.init("85a0a4282e59b38d112f861ad58d388c"); // 개인키
    </script>

    <script>
      var url1 = "https://golping.golfzon.com";

      function shareMessage() {
        Kakao.Share.sendScrap({
          requestUrl: url1,
        });
      }
      function share2() {
        Kakao.Story.share({
          url: url1,
          text: "카카오 개발자 사이트로 놀러오세요! #개발자 #카카오 :)",
        });
      }
      function shareFacebook() {
        var url = "http://www.facebook.com/sharer/sharer.php?u=" + encodeURIComponent(url1);

        if (window.webkit && window.webkit.messageHandlers && window.webkit.messageHandlers.gfz) {
          // Call iOS interface
          appPageBlank(url);
        } else {
          window.open(url, "facebook", "width=800, height=700, toolbar=no, menubar=no, scrollbars=no, resizable=yes");
        }
      }

      function copyToClipBoard() {
        navigator.clipboard
          .writeText(url1)
          .then(() => {
            alert("url 을 복사하였습니다.");
          })
          .catch((err) => {
            alert("Something went wrong", err);
          });
      }

      /**
       * APP URL BLANK 처리
       **/
      var appPageBlank = function (trgUrl) {
        var trgtUrl = trgUrl;

        //골프존통합플랫폼 - 팝업
        ultronApp = /com.golfzon/.test(window.navigator.userAgent) ? true : false;

        if (ultronApp) {
          window.ultron = new window.UltronBase();
          window.ultron.forApp = true;
          let settings = {
            url: `${trgUrl}`,
            type: 0,
            navi: 1,
            openType: 0,
          };
          window.ultron.viewOpen(settings);
          window.ultron.flush();
        } else {
          if (window.gfz) {
            window.gfz.openPopup(trgtUrl);
          } else if (window.webkit && window.webkit.messageHandlers && window.webkit.messageHandlers.gfz) {
            // Call iOS interface
            var params = {
              URL: trgtUrl,
            };

            var message = {
              command: "openPopup",
              parameters: params,
              callback: "N/A",
            };

            window.webkit.messageHandlers.gfz.postMessage(message);
          } else {
            window.open(trgtUrl);
          }
        }
      };
    </script>
  </head>
  <body>
    <div className="Facebook">
      <button onclick="shareFacebook()">페이스북 공유</button>
    </div>
    <div id="fb-root"></div>

    <div class="fb-share-button" data-href="https://developers.facebook.com/docs/plugins/" data-layout="button_count" data-size="small">
      <a target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fdevelopers.facebook.com%2Fdocs%2Fplugins%2F&amp;src=sdkpreparse" class="fb-xfbml-parse-ignore">공유</a>
    </div>

    <br /><br />

    <button onclick="copyToClipBoard()">공유하기(현재 페이지 url 복사)</button>

    <br /><br />

    <button onclick="shareMessage()">카카오톡 공유</button>

    <br /><br />
    <button onclick="share2()">카카오 스토리 공유</button>
  </body>
</html>
